--- a/codemp/ui/keycodes.h
+++ b/codemp/ui/keycodes.h
@@ -7,338 +7,234 @@
 
 typedef enum
 {
-	A_NULL = 0,
-	A_SHIFT,
-	A_CTRL,
-	A_ALT,
-	A_CAPSLOCK,
-	A_NUMLOCK,
-	A_SCROLLLOCK,
-	A_PAUSE,
-	A_BACKSPACE,
-	A_TAB,
-	A_ENTER,
-	A_KP_PLUS,
-	A_KP_MINUS,
-	A_KP_ENTER,
-	A_KP_PERIOD,
-	A_PRINTSCREEN,
-	A_KP_0,
-	A_KP_1,
-	A_KP_2,
-	A_KP_3,
-	A_KP_4,
-	A_KP_5,
-	A_KP_6,
-	A_KP_7,
-	A_KP_8,
-	A_KP_9,
-	A_CONSOLE,
-	A_ESCAPE,
-	A_F1,
-	A_F2,
-	A_F3,
-	A_F4,
+	K_TAB = 9,
+	K_ENTER = 13,
+	K_ESCAPE = 27,
+	K_SPACE = 32,
+	
+	K_PLING,
+	K_DOUBLE_QUOTE,
+	K_HASH,
+	K_STRING,
+	K_PERCENT,
+	K_AND,
+	K_SINGLE_QUOTE,
+	K_OPEN_BRACKET,
+	K_CLOSE_BRACKET,
+	K_STAR,
+	K_PLUS,
+	K_COMMA,
+	K_MINUS,
+	K_PERIOD,
+	K_FORWARD_SLASH,
 
-	A_SPACE,
-	A_PLING,
-	A_DOUBLE_QUOTE,
-	A_HASH,
-	A_STRING,
-	A_PERCENT,
-	A_AND,
-	A_SINGLE_QUOTE,
-	A_OPEN_BRACKET,
-	A_CLOSE_BRACKET,
-	A_STAR,
-	A_PLUS,
-	A_COMMA,
-	A_MINUS,
-	A_PERIOD,
-	A_FORWARD_SLASH,
-	A_0,
-	A_1,
-	A_2,
-	A_3,
-	A_4,
-	A_5,
-	A_6,
-	A_7,
-	A_8,
-	A_9,
-	A_COLON,
-	A_SEMICOLON,
-	A_LESSTHAN,
-	A_EQUALS,
-	A_GREATERTHAN,
-	A_QUESTION,
+	K_0,
+	K_1,
+	K_2,
+	K_3,
+	K_4,
+	K_5,
+	K_6,
+	K_7,
+	K_8,
+	K_9,
 
-	A_AT,
-	A_CAP_A,
-	A_CAP_B,
-	A_CAP_C,
-	A_CAP_D,
-	A_CAP_E,
-	A_CAP_F,
-	A_CAP_G,
-	A_CAP_H,
-	A_CAP_I,
-	A_CAP_J,
-	A_CAP_K,
-	A_CAP_L,
-	A_CAP_M,
-	A_CAP_N,
-	A_CAP_O,
-	A_CAP_P,
-	A_CAP_Q,
-	A_CAP_R,
-	A_CAP_S,
-	A_CAP_T,
-	A_CAP_U,
-	A_CAP_V,
-	A_CAP_W,
-	A_CAP_X,
-	A_CAP_Y,
-	A_CAP_Z,
-	A_OPEN_SQUARE,
-	A_BACKSLASH,
-	A_CLOSE_SQUARE,
-	A_CARET,
-	A_UNDERSCORE,
+	K_COLON,
+	K_SEMICOLON,
+	K_LESSTHAN,
+	K_EQUALS,
+	K_GREATERTHAN,
+	K_QUESTION,
+	K_AT,
 
-	A_LEFT_SINGLE_QUOTE,
-	A_LOW_A,
-	A_LOW_B,
-	A_LOW_C,
-	A_LOW_D,
-	A_LOW_E,
-	A_LOW_F,
-	A_LOW_G,
-	A_LOW_H,
-	A_LOW_I,
-	A_LOW_J,
-	A_LOW_K,
-	A_LOW_L,
-	A_LOW_M,
-	A_LOW_N,
-	A_LOW_O,
-	A_LOW_P,
-	A_LOW_Q,
-	A_LOW_R,
-	A_LOW_S,
-	A_LOW_T,
-	A_LOW_U,
-	A_LOW_V,
-	A_LOW_W,
-	A_LOW_X,
-	A_LOW_Y,
-	A_LOW_Z,
-	A_OPEN_BRACE,
-	A_BAR,
-	A_CLOSE_BRACE,
-	A_TILDE,
-	A_DELETE,
+	K_CAP_A,
+	K_CAP_B,
+	K_CAP_C,
+	K_CAP_D,
+	K_CAP_E,
+	K_CAP_F,
+	K_CAP_G,
+	K_CAP_H,
+	K_CAP_I,
+	K_CAP_J,
+	K_CAP_K,
+	K_CAP_L,
+	K_CAP_M,
+	K_CAP_N,
+	K_CAP_O,
+	K_CAP_P,
+	K_CAP_Q,
+	K_CAP_R,
+	K_CAP_S,
+	K_CAP_T,
+	K_CAP_U,
+	K_CAP_V,
+	K_CAP_W,
+	K_CAP_X,
+	K_CAP_Y,
+	K_CAP_Z,
 
-	A_EURO,
-	A_SHIFT2,
-	A_CTRL2,
-	A_ALT2,
-	A_F5,
-	A_F6,
-	A_F7,
-	A_F8,
-	A_CIRCUMFLEX,
-	A_MWHEELUP,
-	A_CAP_SCARON,
-	A_MWHEELDOWN,
-	A_CAP_OE,
-	A_MOUSE1,
-	A_MOUSE2,
-	A_INSERT,
-	A_HOME,
-	A_PAGE_UP,
-	A_RIGHT_SINGLE_QUOTE,
-	A_LEFT_DOUBLE_QUOTE,
-	A_RIGHT_DOUBLE_QUOTE,
-	A_F9,
-	A_F10,
-	A_F11,
-	A_F12,
-	A_TRADEMARK,
-	A_LOW_SCARON,
-	A_SHIFT_ENTER,
-	A_LOW_OE,
-	A_END,
-	A_PAGE_DOWN,
-	A_CAP_YDIERESIS,
+	K_OPEN_SQUARE,
+	K_BACKSLASH,
+	K_CLOSE_SQUARE,
+	K_CARET,
+	K_UNDERSCORE,
+	K_LEFT_SINGLE_QUOTE,
 
-	A_SHIFT_SPACE,
-	A_EXCLAMDOWN,
-	A_CENT,
-	A_POUND,
-	A_SHIFT_KP_ENTER,
-	A_YEN,
-	A_MOUSE3,
-	A_MOUSE4,
-	A_MOUSE5,
-	A_COPYRIGHT,
-	A_CURSOR_UP,
-	A_CURSOR_DOWN,
-	A_CURSOR_LEFT,
-	A_CURSOR_RIGHT,
-	A_REGISTERED,
-	A_UNDEFINED_7,
-	A_UNDEFINED_8,
-	A_UNDEFINED_9,
-	A_UNDEFINED_10,
-	A_UNDEFINED_11,
-	A_UNDEFINED_12,
-	A_UNDEFINED_13,
-	A_UNDEFINED_14,
-	A_UNDEFINED_15,
-	A_UNDEFINED_16,
-	A_UNDEFINED_17,
-	A_UNDEFINED_18,
-	A_UNDEFINED_19,
-	A_UNDEFINED_20,
-	A_UNDEFINED_21,
-	A_UNDEFINED_22,
-	A_QUESTION_DOWN,
+	K_LOW_A,
+	K_LOW_B,
+	K_LOW_C,
+	K_LOW_D,
+	K_LOW_E,
+	K_LOW_F,
+	K_LOW_G,
+	K_LOW_H,
+	K_LOW_I,
+	K_LOW_J,
+	K_LOW_K,
+	K_LOW_L,
+	K_LOW_M,
+	K_LOW_N,
+	K_LOW_O,
+	K_LOW_P,
+	K_LOW_Q,
+	K_LOW_R,
+	K_LOW_S,
+	K_LOW_T,
+	K_LOW_U,
+	K_LOW_V,
+	K_LOW_W,
+	K_LOW_X,
+	K_LOW_Y,
+	K_LOW_Z,
 
-	A_CAP_AGRAVE,
-	A_CAP_AACUTE,
-	A_CAP_ACIRCUMFLEX,
-	A_CAP_ATILDE,
-	A_CAP_ADIERESIS,
-	A_CAP_ARING,
-	A_CAP_AE,
-	A_CAP_CCEDILLA,
-	A_CAP_EGRAVE,
-	A_CAP_EACUTE,
-	A_CAP_ECIRCUMFLEX,
-	A_CAP_EDIERESIS,
-	A_CAP_IGRAVE,
-	A_CAP_IACUTE,
-	A_CAP_ICIRCUMFLEX,
-	A_CAP_IDIERESIS,
-	A_CAP_ETH,
-	A_CAP_NTILDE,
-	A_CAP_OGRAVE,
-	A_CAP_OACUTE,
-	A_CAP_OCIRCUMFLEX,
-	A_CAP_OTILDE,
-	A_CAP_ODIERESIS,
-	A_MULTIPLY,
-	A_CAP_OSLASH,
-	A_CAP_UGRAVE,
-	A_CAP_UACUTE,
-	A_CAP_UCIRCUMFLEX,
-	A_CAP_UDIERESIS,
-	A_CAP_YACUTE,
-	A_CAP_THORN,
-	A_GERMANDBLS,
+	K_OPEN_BRACE,
+	K_BAR,
+	K_CLOSE_BRACE,
+	K_TILDE,
 
-	A_LOW_AGRAVE,
-	A_LOW_AACUTE,
-	A_LOW_ACIRCUMFLEX,
-	A_LOW_ATILDE,
-	A_LOW_ADIERESIS,
-	A_LOW_ARING,
-	A_LOW_AE,
-	A_LOW_CCEDILLA,
-	A_LOW_EGRAVE,
-	A_LOW_EACUTE,
-	A_LOW_ECIRCUMFLEX,
-	A_LOW_EDIERESIS,
-	A_LOW_IGRAVE,
-	A_LOW_IACUTE,
-	A_LOW_ICIRCUMFLEX,
-	A_LOW_IDIERESIS,
-	A_LOW_ETH,
-	A_LOW_NTILDE,
-	A_LOW_OGRAVE,
-	A_LOW_OACUTE,
-	A_LOW_OCIRCUMFLEX,
-	A_LOW_OTILDE,
-	A_LOW_ODIERESIS,
-	A_DIVIDE,
-	A_LOW_OSLASH,
-	A_LOW_UGRAVE,
-	A_LOW_UACUTE,
-	A_LOW_UCIRCUMFLEX,
-	A_LOW_UDIERESIS,
-	A_LOW_YACUTE,
-	A_LOW_THORN,
-	A_LOW_YDIERESIS,
-	
-	A_JOY0,
-	A_JOY1,
-	A_JOY2,
-	A_JOY3,
-	A_JOY4,
-	A_JOY5,
-	A_JOY6,
-	A_JOY7,
-	A_JOY8,
-	A_JOY9,
-	A_JOY10,
-	A_JOY11,
-	A_JOY12,
-	A_JOY13,
-	A_JOY14,
-	A_JOY15,
-	A_JOY16,
-	A_JOY17,
-	A_JOY18,
-	A_JOY19,
-	A_JOY20,
-	A_JOY21,
-	A_JOY22,
-	A_JOY23,
-	A_JOY24,
-	A_JOY25,
-	A_JOY26,
-	A_JOY27,
-	A_JOY28,
-	A_JOY29,
-	A_JOY30,
-	A_JOY31,
+	K_BACKSPACE = 127,
+
+	K_COMMAND = 128,
+	K_CAPSLOCK,
+	K_POWER,
+	K_PAUSE,
+
+	K_UPARROW,
+	K_DOWNARROW,
+	K_LEFTARROW,
+	K_RIGHTARROW,
+
+	K_ALT,
+	K_CTRL,
+	K_SHIFT,
+	K_INS,
+	K_DEL,
+	K_PGDN,
+	K_PGUP,
+	K_HOME,
+	K_END,
+
+	K_F1,
+	K_F2,
+	K_F3,
+	K_F4,
+	K_F5,
+	K_F6,
+	K_F7,
+	K_F8,
+	K_F9,
+	K_F10,
+	K_F11,
+	K_F12,
+	K_F13,
+	K_F14,
+	K_F15,
+
+	K_SCROLL,
+
+	K_KP_HOME,
+	K_KP_UPARROW,
+	K_KP_PGUP,
+	K_KP_LEFTARROW,
+	K_KP_5,
+	K_KP_RIGHTARROW,
+	K_KP_END,
+	K_KP_DOWNARROW,
+	K_KP_PGDN,
+	K_KP_ENTER,
+	K_KP_INS,
+	K_KP_DEL,
+	K_KP_SLASH,
+	K_KP_MINUS,
+	K_KP_PLUS,
+	K_KP_NUMLOCK,
+	K_KP_STAR,
+	K_KP_EQUALS,
+
+	K_MOUSE1,
+	K_MOUSE2,
+	K_MOUSE3,
+	K_MOUSE4,
+	K_MOUSE5,
+
+	K_MWHEELDOWN,
+	K_MWHEELUP,
+
+	K_JOY1,
+	K_JOY2,
+	K_JOY3,
+	K_JOY4,
+	K_JOY5,
+	K_JOY6,
+	K_JOY7,
+	K_JOY8,
+	K_JOY9,
+	K_JOY10,
+	K_JOY11,
+	K_JOY12,
+	K_JOY13,
+	K_JOY14,
+	K_JOY15,
+	K_JOY16,
+	K_JOY17,
+	K_JOY18,
+	K_JOY19,
+	K_JOY20,
+	K_JOY21,
+	K_JOY22,
+	K_JOY23,
+	K_JOY24,
+	K_JOY25,
+	K_JOY26,
+	K_JOY27,
+	K_JOY28,
+	K_JOY29,
+	K_JOY30,
+	K_JOY31,
+	K_JOY32,
+
+	K_AUX1,
+	K_AUX2,
+	K_AUX3,
+	K_AUX4,
+	K_AUX5,
+	K_AUX6,
+	K_AUX7,
+	K_AUX8,
+	K_AUX9,
+	K_AUX10,
+	K_AUX11,
+	K_AUX12,
+	K_AUX13,
+	K_AUX14,
+	K_AUX15,
+	K_AUX16,
 
-	A_AUX0,
-	A_AUX1,
-	A_AUX2,
-	A_AUX3,
-	A_AUX4,
-	A_AUX5,
-	A_AUX6,
-	A_AUX7,
-	A_AUX8,
-	A_AUX9,
-	A_AUX10,
-	A_AUX11,
-	A_AUX12,
-	A_AUX13,
-	A_AUX14,
-	A_AUX15,
-	A_AUX16,
-	A_AUX17,
-	A_AUX18,
-	A_AUX19,
-	A_AUX20,
-	A_AUX21,
-	A_AUX22,
-	A_AUX23,
-	A_AUX24,
-	A_AUX25,
-	A_AUX26,
-	A_AUX27,
-	A_AUX28,
-	A_AUX29,
-	A_AUX30,
-	A_AUX31,
+	K_CONSOLE,
 
-	MAX_KEYS
-} fakeAscii_t;
+	K_LAST_KEY		// this had better be <256!
+} keyNum_t;
 
 
 // The menu code needs to get both key and char events, but
diff --git a/codemp/ui/ui.vcxproj b/codemp/ui/ui.vcxproj
index ac18ecd..ddb956e 100644
